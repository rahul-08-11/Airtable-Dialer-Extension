"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getAirtableInterface;

var _error_utils = require("../error_utils");

var AIRTABLE_INTERFACE_VERSION = 0;
var airtableInterface = null;
var missingAirtableInterfaceErrorMessage = ['Error: App environment misconfigured', '\n\n', 'Airtable Apps can only run in the presence of an Airtable Base. If you ', 'are trying to run your App with a Base hosted on airtable.com, then be ', 'sure you are using the Airtable CLI to serve your code and accessing it ', 'through a Custom App installed inside a Base on airtable.com.', '\n\n', 'If you are trying to run automated tests for your App, then make sure ', 'you have loaded the `@airtable/testing-library` module *before* the ', '`@airtable/blocks` module.'].join('');
/** @hidden */

function getAirtableInterface() {
  var getAirtableInterfaceAtVersion = window.__getAirtableInterfaceAtVersion;

  if (!airtableInterface) {
    if (!getAirtableInterfaceAtVersion) {
      throw (0, _error_utils.spawnError)(missingAirtableInterfaceErrorMessage);
    }

    airtableInterface = getAirtableInterfaceAtVersion(AIRTABLE_INTERFACE_VERSION);
  }

  return airtableInterface;
}